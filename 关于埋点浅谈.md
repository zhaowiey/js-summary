# 关于埋点浅谈

埋点适用于分析用户的使用行为，通过搜集分析数据推进用户体验，进而优化产品或者挖掘用户习惯推出新产品等。

埋点方式分为前端和后端，这里主要谈谈前端的实现。埋点方案现在业界已经比较成熟了，可分为：有码埋点、可视化埋点、无码埋点三种，[这里是介绍](http://www.jianshu.com/p/afd601e07bf0)。简单的说就是这样：

* 有码埋点: 埋点锚点植入业务代码中
描述 优点 缺点
埋点锚点植入业务代码中(JS或者HTML中)  高耦合，精确控制  技术人员手工添加修改因为无代码，不移维护修改，易出错，埋点前的方案都清楚

* 可视化埋点 通过元素的页面结构定位埋点位置，业务代码与埋点代码分离 可对线上代码修改，



#### 有码埋点

熟悉Google Analytics的同学都知道这个，除了PV统计外，GA还提供了追踪访客和网站的互动的功能，尤其是追踪那些不产生新页面的访问行为（例如下载文件），很多类似的产品都叫自定义事件功能，说的就是它。有码埋点是目前业内最为熟悉且被广泛采用的一种数据接入手段。

拿Google Analytics为例，可以利用_trackEvent()方法来进行事件追踪。它的详细参数如下：_trackEvent(category, action, opt_label, opt_value, opt_noninteraction)

* category（必需）：类别
* action（必需）：和用户的行为对应，例如“下载”
* label：标签，其他有关信息
* value：提供数值型数据
* non-interaction：布尔值。

如果你想在追踪链接的，给需要追踪的链接调用_trackEvent()方法并设置参数，加上调用的方法onclick即可。优点是可以对发送的内容做到精准控制，对于上线后影响因素较小数据埋点它无疑是最适用的。缺点也很明显，对页面元素的埋点都需要手工添加代码，工作量无疑是巨大的，必须是技术人员参与才能完成，埋点地方过多也容易出错。代码埋点的理想化在于事先把数据收集方案都想明白，而在实际情况下很难做到。


#### 可视化埋点

有码埋点无疑是苦逼的，成本高而且容易出错，如果想修改的话还得重新上线，尤其对APP开发者来说更是苦难，漫长的审核期客户端的更新成本都是不容忽略的。

所以为了解决这些问题，有些专业做数据分析的厂商提出来更加敏捷和聪明的方案，以Kissmetrics和Mixpanel为代表的数据分析服务商提供了可视化埋点的方案，以Click to Track的方式代替了手工埋点，**实现了埋点的配置与应用本身的分离**，每次用户打开应用时，只需要把新的埋点配置重新下载到客户端即可，而无须频繁更新客户端版本。拿Kissmetrics为例，

